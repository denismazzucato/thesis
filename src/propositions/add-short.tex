\begin{lstlisting}[
  language=customPython,
  style=mystyle,
  escapechar=\%]
def Add(p, z, m, x, n, y):
  r = min(p, m)
  s = min(p, n)
  if (r < s):
    t = p - s
    q = s - r
    # %\dots%
    for (; r > 0; r--):
      # %\dots%
    do:
      # %\dots%
      q--
      # %\dots%
    while (q > 0)
else:
  t = p - r
  q = r - s
  # %\dots%
  for (; s > 0; s--):
    # %\dots%
  for (; q > 0; q--):
    # %\dots%
if (t > 0):
  # %\dots%
  while (t > 0):
    # %\dots%
    t--
    # %\dots%
\end{lstlisting}
